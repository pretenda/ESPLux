<html><head><title>ESPLux</title><meta name=viewport content="width=device-width,initial-scale=1"><meta name=mobile-web-app-capable content=yes>
<style>body{background:#f5f5f5;margin:0;font-family:roboto,helvetica}.box,button,header,input:focus,select:focus{box-shadow:0 2px 2px 0 rgba(0,0,0,.14),0 3px 1px -2px rgba(0,0,0,.2),0 1px 5px 0 rgba(0,0,0,.12)}.box,header{background:#fff}.box{margin:15px 15px 25px 15px}header{height:50px;position:fixed;width:100%;margin:0;top:0;font-size:35px;padding-left:20px;font-weight:100}#cont{margin-top:80px}.head{background:#388e3c;color:#fff;padding:32px 0 15px 12px}#slideC{text-align:right}#bar{background:#a3e5f0;width:100%;height:48px;position:relative}#percOn{background:#00b9d8;height:100%;display:block}#percTxt{color:#888;margin-top:6px;font-size:21pt;vertical-align:top}#pot{font-size:30pt}.content{padding:20px}button{margin:20px;padding:12px 10px 12px 10px;background:#607d8b;border:0;color:#fff;cursor:pointer;text-transform:uppercase}li{margin:6px 0;vertical-align:top;text-indent:-30px;padding-left:30px}ul{list-style-type:none;margin:0}.check{display:inline-block;border:1px solid #388e3c;width:16px;height:16px;border-radius:23%;margin-top:2px;margin-right:12px}.selected{background:#4caf50}.o,.so .check{border:1px solid #e64a19}.o.selected,.so .selected{background:#ff5722}#support{position:fixed;right:17px;top:13px;color:#888;text-decoration:none;font-size:17px;font-weight:400}.hr,.save{border-top:1px solid rgba(0,0,0,.12)}.hr{margin-top:3px}.save{text-align:right}.save button{margin:12px}.label{display:inline-block;width:106px}.input{display:inline-block;width:210px}input,select{width:210px;border:1px solid #388e3c;font-size:12pt;padding:5px}.bl{background:#00b9d8}.fz{font-size:30pt}</style>
<body><div id=cont><header id=tb>ESPLux <span><a href=http://esplux.info target=_blank id=support>Support</a></span></header><div id=lc class=box><div class="head bl">Light Control - <span id=LightName><i>Unknown</i></span></div><div class=content><div id=slideC><div id=bar><span id=percOn></span></div><div id=percTxt><span id=pot class=fz>--</span>%</div></div><div style=text-align:center><button onclick=setLight(0)>Light Off</button> <button onclick=setLight(100)>Light On</button></div></div></div><div id=set class=box><div class=head>Settings</div><div class=content>There isn't much you need to do to your ESPLux, but here are a few options you might like to change from default. The indicator lights will switch back off each time you reset your ESPLux.</div><div class="hr content"><ul><li id=ind><span class=check></span>Indicator lights</li><li id=lightDim><span class="check selected"></span>Light is dimmable</li><li id=lightMem><span class=check></span>Set light to previous value when switch is flipped</li></ul></div><div class="hr content"><ul><li><span class=label>Light Name:</span><span class=input><input id="name"></span> <button id=saveName style="margin:0 0 1px -26px;padding:7px">Save Name</button></li></ul></div></div><div id=wifi class=box><div class=head style=background:#e64a19>Wi-Fi</div><div class=content id=wifiC><ul><li><span class=label>SSID:</span><span class=input><input id=ssid class="o"></span> <span style=color:#999;font-size:10pt>(Leave this field blank if you want to change your IP without affecting your Wi-Fi settings)</span></li><li><span class=label>Password:</span><span class=input><input id=pw class=o type="password"></span></li><li id=staticIP class=so><span class="check selected"></span>Set Static IP?</li><li><span class=label>IP Address:</span><span class=input><input id=ip class="o"></span></li><li><span class=label>Subnet:</span><span class=input><input id=sn class="o"></span></li><li><span class=label>Gateway:</span><span class=input><input id=gw class="o"></span></li></ul></div><div class=save><button id=saveNet>Save Wireless Settings</button></div></div></div><script type=text/javascript>function sc(e){var t=getPosition(e.currentTarget),n=e.clientX-t.x,s=Math.round(n/e.currentTarget.offsetWidth*100);1==dimCap&&setLight(s)}function setLight(e){pot.innerHTML=e,percOn.style.width=e+"%",sendWithoutCaring("setLights.lua?val="+Math.round(e/100*1023))}function getPosition(e){for(var t=0,n=0;e;)t+=e.offsetLeft-e.scrollLeft+e.clientLeft,n+=e.offsetTop-e.scrollTop+e.clientTop,e=e.offsetParent;return{x:t,y:n}}function flipCheck(e){return e.currentTarget.firstChild.className.indexOf("selected")>-1?(e.currentTarget.firstChild.className="check",!1):(e.currentTarget.firstChild.className="check selected",!0)}function indLights(e){sendWithoutCaring(1==flipCheck(e)?"setIndicator.lua?state=on":"setIndicator.lua?state=off")}function lightDim(e){1==flipCheck(e)?(dimCap=!0,pot.parentNode.style.textAlign="right",sl.style.display="block",sendWithoutCaring("setDim.lua?val=1")):(dimCap=!1,pot.parentNode.style.textAlign="center",sl.style.display="none",sendWithoutCaring("setDim.lua?val=0"))}function lightMem(e){sendWithoutCaring(1==flipCheck(e)?"setACOn.lua?val=1":"setACOn.lua?val=0")}function staticIP(e){1==flipCheck(e)?(ip.parentNode.parentNode.style.display="block",gw.parentNode.parentNode.style.display="block",sn.parentNode.parentNode.style.display="block",sBool=1):(ip.parentNode.parentNode.style.display="none",gw.parentNode.parentNode.style.display="none",sn.parentNode.parentNode.style.display="none",sBool=0)}function saveName(e){sendWithoutCaring("setName.lua?val="+document.getElementById("name").value),document.getElementById("LightName").innerHTML=document.getElementById("name").value,e.currentTarget.style.width=e.currentTarget.offsetWidth,e.currentTarget.style.color="#aaa",e.currentTarget.innerHTML="&nbsp; saved &nbsp;",setTimeout(function(){sn.innerHTML="save name",sn.style.color="#fff"},3e3),setTimeout(function(){getState("getState.lua")},1e3)}function saveNetwork(e){""==ssid.value?sendWithoutCaring("setIP.lua?static="+sBool+"&ip="+ip.value+"&nm="+sn.value+"&gw="+gw.value):(0==sBool&&(ip.value="192.168.4.1",sn.value="255.255.255.0",gw.value="192.168.4.1"),sendWithoutCaring("setWifi.lua?s="+ssid.value+"&p="+pw.value+"&static="+sBool+"&ip="+ip.value+"&nm="+sn.value+"&gw="+gw.value)),document.getElementById("wifiC").innerHTML="<div style=\"text-align: center;\">You have changed your network settings. Your ESPLux is in the process of being restarted. If your browser hasn't reloaded this page in 10 seconds, you'll need to find it's IP address.",1==sBool?setTimeout(function(){document.location="http://"+ip.value},5e3):setTimeout(function(){document.location="/"},5e3)}function sendWithoutCaring(e){var t;t=window.XMLHttpRequest?new XMLHttpRequest:new ActiveXObject("Microsoft.XMLHTTP"),t.open("GET",e,!0),t.send()}function getState(e){var t;t=window.XMLHttpRequest?new XMLHttpRequest:new ActiveXObject("Microsoft.XMLHTTP"),t.onreadystatechange=function(){4==t.readyState&&200==t.status&&(cap=t.responseText,parseResp(cap))},t.open("GET",e,!0),t.send()}function parseResp(e){var t=e.split("\n");"1"==t[0]?lm.firstChild.className="check selected":lm.firstChild.className="check","1"==t[1]?(ld.firstChild.className="check selected",dimCap=!0,pot.parentNode.style.textAlign="right",sl.style.display="block"):(ld.firstChild.className="check",dimCap=!1,pot.parentNode.style.textAlign="center",sl.style.display="none"),document.getElementById("LightName").innerHTML=t[2],document.getElementById("name").value=t[2];var n=Math.round(t[3]/1023*100);pot.innerHTML=n,percOn.style.width=n+"%","1"==t[4]?(statip.firstChild.className="check selected",sBool=1):(statip.firstChild.className="check",ip.parentNode.parentNode.style.display="none",gw.parentNode.parentNode.style.display="none",sn.parentNode.parentNode.style.display="none"),ip.value=t[5],sn.value=t[6],gw.value=t[7]}var dimCap=!0,sl=document.getElementById("bar"),ind=document.getElementById("ind"),sna=document.getElementById("saveName"),lm=document.getElementById("lightMem"),ld=document.getElementById("lightDim"),statip=document.getElementById("staticIP"),saveNet=document.getElementById("saveNet"),ip=document.getElementById("ip"),sn=document.getElementById("sn"),gw=document.getElementById("gw"),ssid=document.getElementById("ssid"),pw=document.getElementById("pw"),pot=document.getElementById("pot"),percOn=document.getElementById("percOn"),sBool=0;sl.addEventListener("click",sc,!1),ind.addEventListener("click",indLights,!1),sna.addEventListener("click",saveName,!1),lm.addEventListener("click",lightMem,!1),ld.addEventListener("click",lightDim,!1),statip.addEventListener("click",staticIP,!1),saveNet.addEventListener("click",saveNetwork,!1),getState("getState.lua");</script>